(()=>{"use strict";var n={426:(n,e,t)=>{t.d(e,{Z:()=>s});var r=t(81),o=t.n(r),a=t(645),i=t.n(a)()(o());i.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Anuphan:wght@100;200;300;400;500;600;700&display=swap);"]),i.push([n.id,'* {\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  height: 100vh;\n  width: 100vw;\n\n  display: grid;\n  grid-template-rows: auto 1fr 1fr auto;\n  gap: 2rem;\n\n  background: linear-gradient(311deg, #ff4e9a 30%, #6156d8 100%);\n  color: white;\n  text-transform: uppercase;\n\n  font-family: "Anuphan", sans-serif;\n  letter-spacing: 2px;\n  font-size: 16px;\n  font-weight: 500;\n}\n\n/* header and footer */\nheader,\nfooter {\n  font-size: 18px;\n  font-weight: 600;\n  padding: 1rem 0px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  color: white;\n  background-color: rgba(255, 255, 255, 0.3);\n\n  pointer-events: none;\n}\n\nbutton {\n  appearance: none;\n  border-radius: 4px;\n  border: 1px solid transparent;\n  background-color: rgba(255, 255, 255, 0.4);\n  color: #ffffff;\n  height: fit-content;\n  padding: 5px 1rem;\n\n  font-family: "Anuphan", sans-serif;\n  letter-spacing: 2px;\n  font-size: 16px;\n}\n\nbutton:hover {\n  border: 1px solid rgb(255, 255, 255);\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n/* gameboards */\n.boards {\n  display: grid;\n  grid-template-columns: auto auto;\n  gap: 2rem;\n  justify-content: center;\n}\n\n.player,\n.computer {\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n  align-items: center;\n}\n\n.player > p,\n.computer > p {\n  background-color: rgba(255, 255, 255, 0.3);\n  width: 15rem;\n  padding: 0.5rem;\n  border-radius: 3px;\n\n  text-align: center;\n}\n\n/* gameboards still need mediaquery or wrap */\n.player-one-container,\n.player-two-container {\n  display: grid;\n  grid-template-columns: repeat(10, 2rem);\n  grid-template-rows: repeat(10, 2rem);\n  gap: 3px;\n}\n\n.cell,\n.ai-cell {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: default;\n  user-select: none;\n\n  background-color: rgba(255, 255, 255, 0.3);\n  border-radius: 2px;\n\n  color: white;\n}\n\n/* info below */\n.info {\n  display: grid;\n  grid-template-columns: 1fr;\n  justify-items: center;\n  align-items: start;\n  text-align: center;\n\n  gap: 1rem;\n  color: white;\n  user-select: none;\n}\n\n/* info header */\n.info-header {\n  padding: 0.5rem 1rem;\n  pointer-events: none;\n\n  background-color: rgba(255, 255, 255, 0.3);\n  border-radius: 3px;\n  display: flex;\n  align-items: center;\n\n  color: white;\n}\n\n/* ship placement */\n.ship {\n  display: flex;\n  gap: 3px;\n}\n\n.ship-cell {\n  height: 2rem;\n  width: 2rem;\n\n  background-color: rgba(255, 255, 255, 0.5);\n  border-radius: 2px;\n}\n\n.cell.my-ships {\n  background-color: rgba(255, 255, 255, 0.1);\n  border: 1px solid white;\n}\n/* ship container */\n.ship-container {\n  display: grid;\n  justify-items: center;\n  align-items: center;\n  grid-template-columns: 1fr 1fr;\n}\n\n/* rendering hits */\n.hit-water {\n  background-color: rgba(255, 255, 255, 0.2) !important;\n}\n\ndiv.hit-ship {\n  background-color: rgba(255, 255, 255, 0.5) !important;\n}\n\ndiv.sunk {\n  background-color: rgba(255, 255, 255, 0.5) !important;\n  border: 1px solid rgb(255, 255, 255) !important;\n}\n',""]);const s=i},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<n.length;l++){var d=[].concat(n[l]);r&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},i=[],s=0;s<n.length;s++){var c=n[s],l=r.base?c[0]+r.base:c[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var p=t(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var f=o(h,r);r.byIndex=s,e.splice(s,0,{identifier:u,updater:f,references:1})}i.push(u)}return i}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var a=r(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var s=t(a[i]);e[s].references--}for(var c=r(n,o),l=0;l<a.length;l++){var d=t(a[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}a=c}}},569:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return n[r](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0,(()=>{class n{constructor(n){this.length=parseFloat(n),this.timesHit=0,this.sunk=!1}hit(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timesHit+=n}isSunk(){this.length===this.timesHit?this.sunk=!0:this.sunk=!1}setCoords(n){return this.coords=n,this.coords}}function e(n,e){dispatchEvent(new CustomEvent(n,{detail:e}))}class r{constructor(){this.columns=[1,2,3,4,5,6,7,8,9,10],this.rows=["a","b","c","d","e","f","g","h","i","j"],this.array=this.createGameArray(),this.ships=[]}createGameArray(){const n=[];for(let e=0;e<this.rows.length;e+=1)this.columns.forEach((t=>{const r={data:this.rows[e]+t,hit:!1,ship:null};n.push(r)}));return n}placeRandomShips(){const n=[2,3,3,4,5],e=["horizontal","vertical"];for(;n.length>0;){const t=Math.floor(Math.random()*this.columns.length),r=Math.floor(Math.random()*this.rows.length),o=this.rows[r]+this.columns[t],a=e[Math.floor(Math.random()*e.length)];null!==this.placeShip(o,n[n.length-1],a)&&n.pop()}}placeShip(t,r,o){const a=new n(r),i=this.checkOverlap(this.shipCoordinates(t,r,o));if(null===i)return null;a.setCoords(i);const s=[...i];let c=s.shift();for(;0!==s.length;)for(let n=0;n<this.array.length;n+=1)this.array[n].data===c&&(this.array[n].ship=a,c=s.shift());return e("shipPlaced",{dropped:this.ships.length}),this.ships.push(a)}shipCoordinates(n,e,t){const r=[],o=n.substr(1,n.length-1);if("horizontal"===t){if(parseFloat(o)+parseFloat(e)-1>10)return null;for(let t=0;t<e;t+=1)r.push(n[0]+(parseFloat(o)+t))}if("vertical"===t){const t=this.rows.findIndex((e=>e===n[0]));if(parseFloat(t)+parseFloat(e)>10)return null;for(let n=t;n<parseFloat(t)+parseFloat(e);n+=1)r.push(this.rows[n]+o)}return r}checkOverlap(n){if(null===n)return null;for(let e=0;e<n.length;e+=1)if(null!==this.array.find((t=>t.data===n[e])).ship)return null;return n}receiveAttack(n){const e=this.array.findIndex((e=>e.data===n)),t=this.array[e];if(!0===t.hit)throw new Error("already hit");return t.hit=!0,null!==t.ship?(t.ship.hit(),t.ship.isSunk(),[t.ship.sunk,t.ship.coords]):null}checkAllSunk(){if(0===this.ships.length)return!1;for(let n=0;n<this.ships.length;n+=1)if(!1===this.ships[n].sunk)return!1;return!0}}class o{constructor(){this.board=new r,this.OpponentBoard=(new r).array}attackEnemy(n,e){return n.board.receiveAttack(e)}aiAttack(n){const t=Math.floor(Math.random()*this.OpponentBoard.length),r=this.OpponentBoard[t];e("aiMoveMade",{sunk:this.attackEnemy(n,r.data),coord:r.data}),this.OpponentBoard.splice(t,1)}}const a=document.querySelector(".player-one-container"),i=document.querySelector(".player-two-container"),s=document.querySelector(".info");function c(n,e){l(a),l(i),n.forEach((n=>{d(n,a,"human")})),e.forEach((n=>{d(n,i,"ai")}))}function l(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function d(n,e,t){const r=document.createElement("div");r.setAttribute("data-coord",n.data),"ai"===t?r.className="ai-cell":(r.className="cell",function(n){n.addEventListener("dragover",h),n.addEventListener("drop",f)}(r)),function(n){return null!==n.ship}(n)&&r.classList.add("my-ships"),e.append(r)}function u(n){let e;const t=n.detail.coord;"playerMoveMade"===n.type?(e=document.querySelector(`.ai-cell[data-coord="${t}"]`),v("it's the computer's turn")):(e=document.querySelector(`[data-coord="${t}"]`),v("it's your turn to attack")),null===n.detail.sunk?function(n){const e=n;e.classList.add("hit-water"),e.textContent="〰"}(e):(function(n){const e=n;e.classList.add("hit-ship"),e.textContent="✧"}(e),!1!==n.detail.sunk[0]&&n.detail.sunk[1].forEach((t=>{e="playerMoveMade"===n.type?document.querySelector(`.ai-cell[data-coord="${t}"]`):document.querySelector(`[data-coord="${t}"]`),function(n){const e=n;e.classList.add("sunk"),e.textContent="☠"}(e)})))}function p(n,e){const t=document.createElement("div");t.setAttribute("draggable","true"),t.className="ship","vertical"===e&&(t.style["flex-direction"]="column");for(let e=0;e<n;e+=1){const n=document.createElement("div");n.className="ship-cell",t.append(n)}document.querySelector(".ship-container").append(t);const r=`${n},${e}`;t.addEventListener("dragstart",(n=>{n.dataTransfer.setData("text/plain",r)}))}function h(n){n.preventDefault()}function f(n){return n.preventDefault(),e("shipDrop",{dropData:`${this.getAttribute("data-coord")}, ${n.dataTransfer.getData("text/plain")}`.split(",")})}function m(){e("randomShipsPlayer",{detail:null}),s.removeChild(s.lastChild),v("Make your first move")}function v(n){document.querySelector(".info-header").textContent=n}function g(n){window.removeEventListener("aiMoveMade",u),window.removeEventListener("playerMoveMade",u),v(n.detail.msg)}!function(){const n=document.createElement("div");n.className="info-header",s.append(n),v("Drag one of these ships to your waters");const e=document.createElement("div");e.className="ship-container",s.append(e),p(2,"horizontal"),p(2,"vertical")}(),function(){const n=document.createElement("button");n.textContent="or click for random ships",n.addEventListener("click",m),s.append(n)}(),window.addEventListener("shipPlaced",(function n(e){l(document.querySelector(".ship-container"));const t=[3,3,4,5],r=e.detail.dropped;4===e.detail.dropped&&(v("attack your enemy"),window.removeEventListener("shipPlaced",n),s.removeChild(s.lastChild),window.addEventListener("aiMoveMade",u),window.addEventListener("playerMoveMade",u),window.addEventListener("end",g)),p(t[r],"horizontal"),p(t[r],"vertical")}));let y=new o,b=new o;function w(){window.removeEventListener("shipDrop",E),window.removeEventListener("randomShipsPlayer",k),b.board.placeRandomShips(),x("human")}function x(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ai";if(b.board.checkAllSunk()||y.board.checkAllSunk())return function(){let n="";n=b.board.checkAllSunk()?"You've sunk all your opponent's pinnaces!":"The computer sunk all your pinnaces",e("end",{msg:n})}();"human"===n?(document.querySelectorAll(".ai-cell").forEach((n=>n.addEventListener("mousedown",M))),window.addEventListener("playerMoveMade",x)):(document.querySelectorAll(".ai-cell").forEach((n=>n.removeEventListener("mousedown",M))),window.removeEventListener("playerMoveMade",x),setTimeout((()=>{b.aiAttack(y),x("human")}),500))}function k(){window.removeEventListener("randomShipsPlayer",k),y.board=new r,y.board.placeRandomShips(),c(y.board.array,y.OpponentBoard),w()}function E(n){const e=n.detail.dropData;y.board.placeShip(...e),c(y.board.array,y.OpponentBoard),5===y.board.ships.length&&w()}function M(){const n=this.getAttribute("data-coord");try{e("playerMoveMade",{sunk:y.attackEnemy(b,n),coord:n})}catch(n){return null}}y=new o,b=new o,c(y.board.array,y.OpponentBoard),window.addEventListener("shipDrop",E),window.addEventListener("randomShipsPlayer",k);var S=t(379),L=t.n(S),C=t(795),A=t.n(C),q=t(569),O=t.n(q),T=t(565),D=t.n(T),P=t(216),j=t.n(P),F=t(589),N=t.n(F),I=t(426),$={};$.styleTagTransform=N(),$.setAttributes=D(),$.insert=O().bind(null,"head"),$.domAPI=A(),$.insertStyleElement=j(),L()(I.Z,$),I.Z&&I.Z.locals&&I.Z.locals})()})();